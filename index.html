<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุตุฉ ูุฑุชุถู ูููุฑุงุกุฉ | Virtual Reading Platform</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Kufi+Arabic:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Intro Screen (Auth Redesign) -->
    <section id="intro-screen" class="full-screen-intro hidden">
        <div class="intro-content animate-in">
            <h1>ููุตุฉ ูุฑุชุถู ูููุฑุงุกุฉ</h1>
            <p>ูุฑุญุจุงู ุจู ูู ุนุงูู ุงููุนุฑูุฉ. ุงุฎุชุฑ ููู ุชูุฏ ุงูุจุฏุก ุงูููู:</p>

            <!-- Step 1: Initial Selection -->
            <div id="auth-selection" class="auth-box">
                <button id="show-auth-form" class="primary-btn">ุชุณุฌูู ุงูุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ</button>
                <div class="divider">ุฃู</div>
                <button id="guest-login" class="secondary-btn">ุงูุฏุฎูู ูุถูู</button>
            </div>

            <!-- Step 2: Auth Form (Initially Hidden) -->
            <div id="auth-form-container" class="auth-box hidden">
                <div class="input-group">
                    <input type="text" id="reg-username" placeholder="ุงุณู ุงููุณุชุฎุฏู (ูุทููุจ)" required>
                    <input type="password" id="reg-password" placeholder="ูููุฉ ุงููุฑูุฑ (ูุทููุจ)" required>

                    <div class="persona-select-container">
                        <label for="persona-select"
                            style="display:block; margin-bottom:5px; font-size:0.9rem; color:var(--text-secondary);">ุงุฎุชุฑ
                            ุดุฎุตูุชู ุงูุฃุฏุจูุฉ (ุงุฎุชูุงุฑู)</label>
                        <select id="persona-select">
                            <option value="">-- ุจุฏูู ุดุฎุตูุฉ --</option>
                            <!-- Options injected by JS -->
                        </select>
                    </div>
                </div>
                <button id="submit-auth" class="primary-btn">ุงุจุฏุฃ ุงูุฑุญูุฉ</button>
                <button id="back-to-selection" class="text-btn"
                    style="background:none; border:none; color:var(--text-secondary); margin-top:15px; cursor:pointer;">&larr;
                    ุงูุนูุฏุฉ ููุฎูู</button>
            </div>
        </div>
    </section>

    <nav id="main-nav" class="hidden">
        <div class="container nav-container">
            <div class="nav-right">
                <a href="#" class="nav-link active" data-view="home">ุงูุฑุฆูุณูุฉ</a>
                <a href="#" class="nav-link" data-view="library">ุงูููุชุจุฉ ุงูุนุงูุฉ</a>
                <a href="#" class="nav-link" data-view="novels">ุงูุฑูุงูุงุช</a>
                <a href="#" class="nav-link" data-view="ideas">ุฃููุงุฑ ุนุงูุฉ</a>
                <a href="#" class="nav-link" data-view="stories">ูุตุต</a>
            </div>
            <div class="nav-left">
                <a href="#" class="nav-link" data-view="privateLibrary">ููุชุจุชู ุงูุฎุงุตุฉ</a>
                <div id="nav-user-info">
                    <!-- User info injected here -->
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Platform Views -->
    <main id="main-view">
        <!-- Home/Dashboard View -->
        <section id="home-view" class="view-container hidden"></section>

        <!-- Public Library View -->
        <section id="library-view" class="view-container hidden">
            <div class="container">
                <h2 class="section-title">ุงูููุชุจุฉ ุงูุนุงูุฉ</h2>
                <div class="category-filters" id="library-filters">
                    <!-- Filters injected by JS -->
                </div>
                <div class="book-grid" id="book-grid">
                    <!-- Books injected by JS -->
                </div>
            </div>
        </section>

        <!-- My Private Library View -->
        <section id="private-library-view" class="view-container hidden">
            <div class="container">
                <h2 class="section-title">ููุชุจุชู ุงูุฎุงุตุฉ</h2>
                <div class="book-grid" id="my-library-grid">
                    <p class="placeholder-content">ูุง ุชูุฌุฏ ูุชุจ ูุญููุธุฉ ุจุนุฏ</p>
                </div>
            </div>
        </section>

        <!-- General Ideas -->
        <section id="ideas-view" class="view-container hidden">
            <div class="container">
                <h2 class="section-title">ุฃููุงุฑ ุนุงูุฉ</h2>
                <div class="placeholder-wrapper">
                    <p class="placeholder-content">ูุฑูุจุงู... ูุณุงุญุฉ ูููุงุด ุงูุฃููุงุฑ ุงูุนุงูุฉ.</p>
                </div>
            </div>
        </section>

        <!-- Stories (Phase 2 Placeholder) -->
        <section id="stories-view" class="view-container hidden">
            <div class="container">
                <h2 class="section-title">ูุตุต</h2>
                <div class="placeholder-wrapper">
                    <p class="placeholder-content">ูุฑูุจุงู... ูุฌููุนุฉ ูู ุงููุตุต ุงูููุชุนุฉ.</p>
                </div>
            </div>
        </section>

        <!-- Novels View -->
        <section id="novels-view" class="view-container hidden">
            <div class="container">
                <h2 class="section-title">ูุณู ุงูุฑูุงูุงุช</h2>
                <div class="placeholder-wrapper">
                    <p class="placeholder-content">ูุฑูุจุงู... ูุฌููุนุฉ ูุฎุชุงุฑุฉ ูู ุฃูุถู ุงูุฑูุงูุงุช ุงูุนุงูููุฉ ูุงูุนุฑุจูุฉ.</p>
                </div>
            </div>
        </section>

        <!-- Community (Phase 4 Placeholder) -->
        <section id="community-view" class="view-container hidden">
            <div class="container">
                <h2 class="section-title">ุงููุฌุชูุน</h2>
                <div class="placeholder-wrapper">
                    <p class="placeholder-content">ูุฑูุจุงู... ูุณุงุญุฉ ููููุงุด ูุงูุชูุงุนู ูุน ุงููุฑุงุก ุงูุขุฎุฑูู.</p>
                </div>
            </div>
        </section>

        <!-- Details View -->
        <section id="book-details-view" class="view-container hidden"></section>
    </main>


    <!-- Profile Sidebar (New) -->
    <div id="profile-overlay" class="overlay hidden"></div>
    <aside id="profile-sidebar" class="sidebar hidden">
        <div class="sidebar-header">
            <button id="close-profile" class="close-btn">&times;</button>
        </div>
        <div id="profile-content">
            <!-- Content injected by JS -->
        </div>
    </aside>

    <!-- Add Content Modal (Advanced) -->
    <div id="add-book-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel add-content-modal">
            <button id="close-modal" class="close-modal-btn">&times;</button>
            <div class="modal-header">
                <h2 id="modal-title">ุฅุถุงูุฉ ูุญุชูู ุฌุฏูุฏ</h2>
                <div id="modal-type-indicator" class="type-indicator"></div>
            </div>

            <form id="add-content-form" class="modal-body">
                <!-- Group: Titles and Comments (Novels/Stories) -->
                <div id="group-title-comment" class="form-group-container hidden">
                    <div class="input-field">
                        <label for="content-title">ุนููุงู ุงูุนูู</label>
                        <input type="text" id="content-title" placeholder="ุฃุฏุฎู ุนููุงู ุงูุฑูุงูุฉ ุฃู ุงููุตุฉ...">
                    </div>
                    <div class="input-field">
                        <label for="content-comment-literary">ุฑุฃูู ุงูุดุฎุตู / ุชุนููู</label>
                        <textarea id="content-comment-literary" placeholder="ูุง ูู ุงูุทุจุงุนู ุงูุฃููุ"></textarea>
                    </div>
                </div>

                <!-- Group: Books (Summary, Ideas, Opinion) -->
                <div id="group-book-details" class="form-group-container hidden">
                    <div class="input-field">
                        <label for="book-summary">ููุฎุต ุงููุชุงุจ</label>
                        <textarea id="book-summary" placeholder="ุงูุชุจ ููุฎุตุงู ูุงููุงู ููุญูุฑ ุงููุชุงุจ..."></textarea>
                    </div>
                    <div class="input-field">
                        <label for="book-ideas">ุฃูู ุงูุฃููุงุฑ</label>
                        <textarea id="book-ideas" placeholder="ูุง ูู ุงูููุงุท ุงูุงุฑุชูุงุฒูุฉ ุงูุชู ุฎุฑุฌุช ุจูุงุ"></textarea>
                    </div>
                    <div class="input-field">
                        <label for="book-opinion">ุฑุฃูู ุงูุดุฎุตู</label>
                        <textarea id="book-opinion" placeholder="ููู ุชููู ูุฐุง ุงูุนูู ูู ูุฌูุฉ ูุธุฑูุ"></textarea>
                    </div>

                    <div class="status-selection">
                        <span class="label">ุญุงูุฉ ุงููุฑุงุกุฉ:</span>
                        <div class="status-toggles">
                            <button type="button" class="status-tag finished" data-status="finished">
                                <span>ุชูุช ูุฑุงุกุชู</span>
                            </button>
                            <button type="button" class="status-tag reading active" data-status="reading">
                                <span>ูู ุงูุฑุงุกุฉ</span>
                            </button>
                        </div>
                    </div>

                    <div class="upload-section">
                        <label class="upload-label">
                            <input type="file" id="book-cover-input" accept="image/*" hidden>
                            <div class="upload-placeholder" id="upload-preview">
                                <div class="upload-icon">๐ธ</div>
                                <span>ุชุญููู ุบูุงู ุงููุชุงุจ</span>
                            </div>
                        </label>
                        <div class="upload-notes">
                            <p>โ๏ธ ููุงุญุธุงุช ูุงูุฉ:</p>
                            <ul>
                                <li>ูุฌุจ ุฃู ุชุธูุฑ ุงูุตูุฑุฉ ุบูุงู ุงููุชุงุจ ููุท.</li>
                                <li>ูุฌุจ ุฃู ุชููู ุงูุตูุฑุฉ ูุงุถุญุฉ ูุจุฌูุฏุฉ ุนุงููุฉ.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Group: General Ideas -->
                <div id="group-general-idea" class="form-group-container hidden">
                    <div class="input-field">
                        <label for="idea-text">ูุต ุงูููุฑุฉ</label>
                        <textarea id="idea-text" placeholder="ูุง ุงูุฐู ูุฏูุฑ ูู ุฐูููุ"></textarea>
                    </div>
                </div>
            </form>

            <div class="modal-footer">
                <button class="primary-btn" id="modal-confirm">ุญูุธ ูุฅุถุงูุฉ</button>
            </div>
        </div>
    </div>
    <!-- Rewritten Global FAB System (Premium Refactor) -->
    <div class="fab-wrapper hidden" id="global-fab-wrapper">
        <div class="fab-menu">
            <div data-action="add-book">ุฅุถุงูุฉ ูุชุงุจ</div>
            <div data-action="add-novel">ุฅุถุงูุฉ ุฑูุงูุฉ</div>
            <div data-action="add-story">ุฅุถุงูุฉ ูุตุฉ</div>
            <div data-action="add-idea">ุฅุถุงูุฉ ููุฑุฉ ุนุงูุฉ</div>
        </div>
        <button class="fab">+</button>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>

</html>